@(
        title: String,
        user: org.intracer.wmua.User = null,
        asUserId: Int = 0,
        currentFiles: Seq[org.intracer.wmua.ImageWithRating] = Seq.empty,
        allFiles: Seq[org.intracer.wmua.ImageWithRating] = Seq.empty,
        page: Int = 0,
        roundOption: Option[org.intracer.wmua.Round] = None,
        gallery: Boolean = true,
        rate: Int = 0,
        region: String = "all",
        byRegion: Map[String, Int] = Map.empty)(content: Html)(implicit lang: Lang)

<!DOCTYPE html>

<html>
    <head>
        <title>@title</title>
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">

        <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" media="screen" href="@routes.Assets.at("stylesheets/bootstrap-select.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
        <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.js"></script>

        <style>
            body {
            padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
            }
        </style>

    </head>
    <body @if(gallery) { class="gallery" } >
        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container-fluid" style="margin-left:5px; margin-right:5px">
                    <div class="nav-collapse collapse">
                        <ul class="nav">
                @if(user!=null) {
                    @if(user.roles.contains("admin")) {
                        <li><a class="brand" style="margin-top : 5px" href="/admin/users">@Messages("users")</a>
                        <li><a class="brand" style="margin-top : 5px" href="/admin/rounds">@Messages("rounds")</a>
                    }
                    @if(user.roles.intersect(Set("organizer", "admin")).nonEmpty ) {
                        <li><a class="brand" style="margin-top : 5px" href="/roundstat">@Messages("Statistic")</a>
                      }

                    @for(round <- roundOption
                        if asUserId == user.id && round.roles.intersect(user.roles).nonEmpty) {
                        <li class="brand" style="margin-top : 5px">@Messages(s"Round ${round.description}")</li>
                        @if(true || round.number == 0) {
                            <li class="@if(rate == 0){active}"> <a style="margin-top: 5px" href="/gallery/user/@asUserId/rate/0/page/1">@Messages("unrated") (@allFiles.count(_.rate == 0))</a>
                            <li class="@if(rate == 1){active active-}selected"><a style="margin-top: 5px;" href="/gallery/user/@asUserId/rate/1/page/1">@Messages("selected") (@allFiles.count(_.rate == 1))</a>
                            <li class="@if(rate == -1){active active-}rejected"><a style="margin-top: 5px;" href="/gallery/user/@asUserId/rate/-1/page/1">@Messages("rejected") (@allFiles.count(_.rate == -1))</a>
                        } else {
                            <li><a class="brand" style="margin-top : 5px ; color : #d8d8d8" href="/round/@round.number/01">@Messages("All")</a>
                            <li><a class="brand" style="margin-top : 5px ; color : #d8d8d8" href="/round/@{
                                round.number + 1
                            }/01">@Messages("Selected")</a>
                        }
                    }
                    } else {
                    <a class="brand" style="margin-top:5px" href="#">@Messages("application.name")</a>
                }
                            </ul>
                        </div>
                    @logged(user)
                    <div>

                        @if(page!=0 && Pager.pages(currentFiles) > 0) {
                        <div class="pagination pagination-centered" style="margin-top:10px; margin-bottom:5px;">
                          <ul>
                              @if(page > 1){
                                <li><a href="/gallery/user/@asUserId/@{page-1}">&laquo;</a></li>
                              } else {
                                  <li class="disabled"><a href="#" style="color: #999999; background-color: #f5f5f5;">&laquo;</a></li>
                              }
                              @for(i <- 1 to Pager.pages(currentFiles)) {
                                  @if(i == page) {
                                      <li class="active"><a href="/gallery/user/@asUserId/rate/@rate/region/@region/page/@i">@i</a></li>
                                  } else {
                                      <li><a href="/gallery/user/@asUserId/rate/@rate/region/@region/page/@i">@i</a></li>
                                  }
                              }
                              @if(page < Pager.pages(currentFiles)){
                                <li><a href="/gallery/user/@asUserId/rate/@rate/page/@{page+1}">&raquo;</a></li>
                              } else {
                                  <li class="disabled"><a href="#" style="color: #999999; background-color: #f5f5f5;">&raquo;</a></li>
                              }
                          </ul>
                        </div>
                        }

                    </div>
                </div>
            </div>
        </div>

        <div class="container-fluid" style="margin-left:0px; margin-right:0px">

        @content

        </div>
    </body>
</html>
